-------------------------------------------------------------------------------
Test set: com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest
-------------------------------------------------------------------------------
Tests run: 3, Failures: 1, Errors: 2, Skipped: 0, Time elapsed: 0.200 s <<< FAILURE! -- in com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest
com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldThrowIfEmailMissing -- Time elapsed: 0.145 s <<< ERROR!
java.lang.IllegalArgumentException: attributes cannot be empty
	at org.springframework.util.Assert.notEmpty(Assert.java:474)
	at org.springframework.security.oauth2.core.user.DefaultOAuth2User.<init>(DefaultOAuth2User.java:70)
	at com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldThrowIfEmailMissing(OAuth2IntegrationTest.java:153)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldReuseExistingUserIfAlreadyExists -- Time elapsed: 0.051 s <<< FAILURE!
org.mockito.exceptions.verification.NeverWantedButInvoked: 

userRepository.save(<any>);
Never wanted here:
-> at com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldReuseExistingUserIfAlreadyExists(OAuth2IntegrationTest.java:95)
But invoked here:
-> at com.dmcdoc.usermanagement.config.security.OAuth2AuthenticationSuccessHandler.onAuthenticationSuccess(OAuth2AuthenticationSuccessHandler.java:71) with arguments: [com.dmcdoc.usermanagement.core.model.User@b9f4b1f]

	at com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldReuseExistingUserIfAlreadyExists(OAuth2IntegrationTest.java:95)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldReturnJsonTokensOnSuccess -- Time elapsed: 0.002 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "com.dmcdoc.usermanagement.core.repository.RoleRepository.findByName(String)" because "this.roleRepository" is null
	at com.dmcdoc.usermanagement.integration.OAuth2IntegrationTest.shouldReturnJsonTokensOnSuccess(OAuth2IntegrationTest.java:126)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

