# src/main/resources/application.properties

# Le profil actif est injecté automatiquement depuis l'environnement
# ✅ Valeur par défaut

spring.profiles.active=dev 

# Base de données
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://192.168.56.15:5432/authdb
spring.datasource.username=authuser
spring.datasource.password=authpass

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# RabbitMQ
spring.rabbitmq.host=localhost
spring.rabbitmq.port=${RABBITMQ_PORT_AMQP}
spring.rabbitmq.username=${RABBITMQ_USER}
spring.rabbitmq.password=${RABBITMQ_PASSWORD}

# Memcached
memcached.host=localhost
memcached.port=${MEMCACHED_PORT}

# Elasticsearch
spring.elasticsearch.uris=http://localhost:${ELASTIC_HTTP_PORT}
spring.elasticsearch.username=elastic
spring.elasticsearch.password=${ELASTIC_PASSWORD}

# JWT
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}
security.jwt.refresh-expiration=604800000

# Actuator (prod : plus restrictif par défaut)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when_authorized

# Logging
logging.level.root=INFO
logging.level.com.example.usermanagement=DEBUG
logging.level.org.springframework=INFO
logging.level.org.springframework.security=INFO
logging.file.name=logs/usermanagement.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n

# Divers
spring.application.name=UserManagementAPI
server.port=${SERVER_PORT:8080}
server.address=0.0.0.0
server.forward-headers-strategy=FRAMEWORK

# Debug
debug=false

# Dotenv
dotenv.enabled=true

# En prod, on n’exclut que l’auth et /actuator/health
#security.jwt.exclude-paths=/api/auth/**,/actuator/health
